// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using TRRCMS.Infrastructure.Persistence;

#nullable disable

namespace TRRCMS.Infrastructure.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    [Migration("20260120113024_AddPropertyUnitSurveyFields")]
    partial class AddPropertyUnitSurveyFields
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.11")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("TRRCMS.Domain.Entities.AuditLog", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("ActionDescription")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasComment("Human-readable description of the action");

                    b.Property<string>("ActionResult")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Result of the action (Success, Failed, Partial)");

                    b.Property<int>("ActionType")
                        .HasColumnType("integer")
                        .HasComment("Type of action performed (enum)");

                    b.Property<string>("AdditionalData")
                        .HasColumnType("jsonb")
                        .HasComment("Additional contextual information as JSON");

                    b.Property<long>("AuditLogNumber")
                        .HasColumnType("bigint")
                        .HasComment("Sequential audit log entry number");

                    b.Property<string>("ChangedFields")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasComment("Comma-separated list of changed fields");

                    b.Property<Guid?>("CorrelationId")
                        .HasColumnType("uuid")
                        .HasComment("Correlation ID to group related actions");

                    b.Property<string>("DeviceId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Device ID for mobile/tablet actions");

                    b.Property<Guid?>("EntityId")
                        .HasColumnType("uuid")
                        .HasComment("ID of the entity affected");

                    b.Property<string>("EntityIdentifier")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Human-readable identifier (e.g., Claim Number)");

                    b.Property<string>("EntityType")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Type of entity affected (e.g., Claim, Building)");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Error message if action failed");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("IP address from which action was performed");

                    b.Property<bool>("IsSecuritySensitive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if this is a security-sensitive action");

                    b.Property<string>("NewValues")
                        .HasColumnType("jsonb")
                        .HasComment("New state stored as JSON");

                    b.Property<string>("OldValues")
                        .HasColumnType("jsonb")
                        .HasComment("Previous state stored as JSON");

                    b.Property<Guid?>("ParentAuditLogId")
                        .HasColumnType("uuid")
                        .HasComment("Parent audit log ID for nested actions");

                    b.Property<bool>("RequiresLegalRetention")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if this action requires legal retention");

                    b.Property<DateTime?>("RetentionEndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Retention end date (10+ years for legal hold)");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<string>("SessionId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Session ID");

                    b.Property<string>("SourceApplication")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Source application (Mobile, Desktop, API)");

                    b.Property<string>("StackTrace")
                        .HasColumnType("text")
                        .HasComment("Stack trace if action failed");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("When the action occurred (UTC)");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("User agent (browser/app information)");

                    b.Property<string>("UserFullName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Full name of user for historical record");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasComment("User who performed the action");

                    b.Property<string>("UserRole")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("User's role at the time of action");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Username at the time of action");

                    b.HasKey("Id");

                    b.HasIndex("ActionType");

                    b.HasIndex("AuditLogNumber")
                        .IsUnique();

                    b.HasIndex("CorrelationId");

                    b.HasIndex("IsSecuritySensitive");

                    b.HasIndex("ParentAuditLogId");

                    b.HasIndex("RetentionEndDate");

                    b.HasIndex("Timestamp");

                    b.HasIndex("UserId");

                    b.HasIndex("ActionResult", "Timestamp");

                    b.HasIndex("EntityType", "EntityId");

                    b.HasIndex("IsSecuritySensitive", "Timestamp");

                    b.HasIndex("UserId", "Timestamp");

                    b.HasIndex("EntityType", "EntityId", "Timestamp");

                    b.ToTable("AuditLogs", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Building", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("BuildingGeometryWkt")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)");

                    b.Property<string>("BuildingId")
                        .IsRequired()
                        .HasMaxLength(17)
                        .HasColumnType("character varying(17)");

                    b.Property<string>("BuildingNumber")
                        .IsRequired()
                        .HasMaxLength(5)
                        .HasColumnType("character varying(5)");

                    b.Property<string>("BuildingType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("CommunityCode")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("character varying(3)");

                    b.Property<string>("CommunityName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("DamageLevel")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("DistrictCode")
                        .IsRequired()
                        .HasMaxLength(2)
                        .HasColumnType("character varying(2)");

                    b.Property<string>("DistrictName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("GovernorateCode")
                        .IsRequired()
                        .HasMaxLength(2)
                        .HasColumnType("character varying(2)");

                    b.Property<string>("GovernorateName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<string>("Landmark")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("Latitude")
                        .HasPrecision(10, 7)
                        .HasColumnType("numeric(10,7)");

                    b.Property<decimal?>("Longitude")
                        .HasPrecision(10, 7)
                        .HasColumnType("numeric(10,7)");

                    b.Property<string>("NeighborhoodCode")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("character varying(3)");

                    b.Property<string>("NeighborhoodName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<int>("NumberOfApartments")
                        .HasColumnType("integer");

                    b.Property<int?>("NumberOfFloors")
                        .HasColumnType("integer");

                    b.Property<int>("NumberOfPropertyUnits")
                        .HasColumnType("integer");

                    b.Property<int>("NumberOfShops")
                        .HasColumnType("integer");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("SubDistrictCode")
                        .IsRequired()
                        .HasMaxLength(2)
                        .HasColumnType("character varying(2)");

                    b.Property<string>("SubDistrictName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<int?>("YearOfConstruction")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("BuildingId")
                        .IsUnique();

                    b.ToTable("Buildings", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Claim", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<bool>("AllRequiredDocumentsSubmitted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if all required documents are submitted (جميع المستندات المطلوبة مقدمة)");

                    b.Property<DateTime?>("AssignedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when assigned to current officer (تاريخ التعيين)");

                    b.Property<Guid?>("AssignedToUserId")
                        .HasColumnType("uuid")
                        .HasComment("Currently assigned case officer (معرف الموظف المسؤول)");

                    b.Property<int>("CertificateStatus")
                        .HasColumnType("integer")
                        .HasComment("Certificate status: 1=NotRequired, 2=PendingGeneration, 3=Generated, 4=Issued, 5=Collected, 6=Rejected, 7=Revoked (حالة الشهادة)");

                    b.Property<string>("ClaimDescription")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)")
                        .HasComment("Detailed description of the claim (وصف المطالبة)");

                    b.Property<string>("ClaimNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Unique claim identifier - Format: CLM-YYYY-NNNNNNNNN (رقم المطالبة)");

                    b.Property<int>("ClaimSource")
                        .HasColumnType("integer")
                        .HasComment("Claim source - How claim entered system: 1=FieldCollection, 2=OfficeSubmission, 3=SystemImport, 4=Migration, 5=OnlinePortal, 6=ApiIntegration, 7=ManualEntry (مصدر المطالبة)");

                    b.Property<string>("ClaimType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Claim type from controlled vocabulary - e.g., Ownership Claim, Occupancy Claim (نوع المطالبة)");

                    b.Property<int>("ConflictCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of conflicting claims detected (عدد المطالبات المتعارضة)");

                    b.Property<string>("ConflictResolutionStatus")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Conflict resolution status - e.g., Pending, Resolved (حالة حل التعارض)");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was created (تاريخ الإنشاء)");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who created this record (معرف المستخدم المنشئ)");

                    b.Property<Guid?>("DecisionByUserId")
                        .HasColumnType("uuid")
                        .HasComment("User who made final decision (معرف المستخدم القرار)");

                    b.Property<DateTime?>("DecisionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when final decision was made (تاريخ القرار)");

                    b.Property<string>("DecisionNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Decision notes (ملاحظات القرار)");

                    b.Property<string>("DecisionReason")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Reason for approval or rejection (سبب القرار)");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was soft deleted (تاريخ الحذف)");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who soft deleted this record (معرف المستخدم الحاذف)");

                    b.Property<int>("EvidenceCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of evidence items attached (عدد الأدلة)");

                    b.Property<string>("FinalDecision")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Final decision on the claim - e.g., Approved, Rejected (القرار النهائي)");

                    b.Property<bool>("HasConflicts")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if there are conflicting claims (وجود تعارضات)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag (علامة الحذف المنطقي)");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was last modified (تاريخ آخر تعديل)");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who last modified this record (معرف المستخدم المعدل)");

                    b.Property<string>("LegalBasis")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Legal basis for the claim (الأساس القانوني)");

                    b.Property<int>("LifecycleStage")
                        .HasColumnType("integer")
                        .HasComment("Current lifecycle stage: 1=DraftPendingSubmission, 2=Submitted, 3=InitialScreening, 4=UnderReview, 5=AwaitingDocuments, 6=ConflictDetected, 7=InAdjudication, 8=Approved, 9=Rejected, 10=CertificateIssued, 11=Archived (مرحلة دورة الحياة)");

                    b.Property<string>("MissingDocuments")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("List of missing document types - stored as JSON (المستندات المفقودة)");

                    b.Property<int?>("OwnershipShare")
                        .HasColumnType("integer")
                        .HasComment("Ownership share - Fraction out of 2400 (e.g., 1200 = 50%) (نصيب الملكية)");

                    b.Property<Guid?>("PrimaryClaimantId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Person - Primary claimant (معرف المدعي الأساسي)");

                    b.Property<int>("Priority")
                        .HasColumnType("integer")
                        .HasComment("Priority level: 1=Low, 2=Normal, 3=Medium, 4=High, 5=Critical, 6=VIP, 7=Escalated (الأولوية)");

                    b.Property<string>("ProcessingNotes")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)")
                        .HasComment("Internal processing notes (ملاحظات المعالجة الداخلية)");

                    b.Property<Guid>("PropertyUnitId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PropertyUnit - Property being claimed (معرف الوحدة العقارية)");

                    b.Property<string>("PublicRemarks")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Public remarks visible to claimant (الملاحظات العامة)");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasComment("Concurrency token for optimistic locking (رمز التزامن)");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasComment("Legacy status: 1=Draft, 2=Finalized, 3=UnderReview, 4=Approved, 5=Rejected, 6=PendingEvidence, 7=Disputed, 99=Archived (الحالة)");

                    b.Property<Guid?>("SubmittedByUserId")
                        .HasColumnType("uuid")
                        .HasComment("User who submitted the claim (معرف المستخدم المقدم)");

                    b.Property<DateTime?>("SubmittedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when claim was submitted (تاريخ التقديم)");

                    b.Property<string>("SupportingNarrative")
                        .HasMaxLength(5000)
                        .HasColumnType("character varying(5000)")
                        .HasComment("Supporting narrative or story (السرد الداعم)");

                    b.Property<DateTime?>("TargetCompletionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Target completion/decision date (تاريخ الإنجاز المستهدف)");

                    b.Property<int?>("TenureContractType")
                        .HasColumnType("integer")
                        .HasComment("Type of tenure contract: 1=Freehold, 2=Leasehold, 3=SharedOwnership, 4=Rental, 5=Informal, 6=Customary, 7=Usufruct, 99=Other (نوع عقد الحيازة)");

                    b.Property<DateTime?>("TenureEndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when tenure/occupancy ended (تاريخ انتهاء الحيازة)");

                    b.Property<DateTime?>("TenureStartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date from which tenure/occupancy started (تاريخ بدء الحيازة)");

                    b.Property<DateTime?>("VerificationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when verification was completed (تاريخ التحقق)");

                    b.Property<string>("VerificationNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Verification notes (ملاحظات التحقق)");

                    b.Property<int>("VerificationStatus")
                        .HasColumnType("integer")
                        .HasComment("Verification status: 1=Pending, 2=Verified, 3=Rejected, 4=RequiresAdditionalInfo (حالة التحقق)");

                    b.Property<Guid?>("VerifiedByUserId")
                        .HasColumnType("uuid")
                        .HasComment("User who verified the claim (معرف المستخدم المحقق)");

                    b.HasKey("Id");

                    b.HasIndex("AssignedToUserId")
                        .HasDatabaseName("IX_Claims_AssignedToUserId");

                    b.HasIndex("CertificateStatus")
                        .HasDatabaseName("IX_Claims_CertificateStatus");

                    b.HasIndex("ClaimNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_Claims_ClaimNumber");

                    b.HasIndex("DecisionDate")
                        .HasDatabaseName("IX_Claims_DecisionDate");

                    b.HasIndex("HasConflicts")
                        .HasDatabaseName("IX_Claims_HasConflicts");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Claims_IsDeleted");

                    b.HasIndex("LifecycleStage")
                        .HasDatabaseName("IX_Claims_LifecycleStage");

                    b.HasIndex("PrimaryClaimantId")
                        .HasDatabaseName("IX_Claims_PrimaryClaimantId");

                    b.HasIndex("Priority")
                        .HasDatabaseName("IX_Claims_Priority");

                    b.HasIndex("PropertyUnitId")
                        .HasDatabaseName("IX_Claims_PropertyUnitId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_Claims_Status");

                    b.HasIndex("SubmittedDate")
                        .HasDatabaseName("IX_Claims_SubmittedDate");

                    b.HasIndex("TargetCompletionDate")
                        .HasDatabaseName("IX_Claims_TargetCompletionDate");

                    b.HasIndex("VerificationStatus")
                        .HasDatabaseName("IX_Claims_VerificationStatus");

                    b.HasIndex("HasConflicts", "LifecycleStage")
                        .HasDatabaseName("IX_Claims_HasConflicts_LifecycleStage");

                    b.HasIndex("IsDeleted", "LifecycleStage")
                        .HasDatabaseName("IX_Claims_IsDeleted_LifecycleStage");

                    b.HasIndex("LifecycleStage", "AssignedToUserId")
                        .HasDatabaseName("IX_Claims_LifecycleStage_AssignedToUserId");

                    b.HasIndex("Priority", "TargetCompletionDate")
                        .HasDatabaseName("IX_Claims_Priority_TargetCompletionDate");

                    b.HasIndex("PropertyUnitId", "IsDeleted")
                        .HasDatabaseName("IX_Claims_PropertyUnitId_IsDeleted");

                    b.ToTable("Claims", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Document", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid?>("ClaimId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Claim (if document supports a claim)");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was created");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who created this record");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was soft deleted");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who soft deleted this record");

                    b.Property<string>("DocumentHash")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasComment("SHA-256 hash of the document for integrity verification");

                    b.Property<string>("DocumentNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Document number/reference (e.g., Tabu number, ID number, contract number)");

                    b.Property<string>("DocumentTitle")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("Document title or description in Arabic");

                    b.Property<int>("DocumentType")
                        .HasMaxLength(100)
                        .HasColumnType("integer")
                        .HasComment("Document type from controlled vocabulary (e.g., TabuGreen, RentalContract, NationalIdCard)");

                    b.Property<Guid?>("EvidenceId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Evidence entity (the actual file/scan)");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when document expires (if applicable)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag");

                    b.Property<bool>("IsLegallyValid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Indicates if document is legally valid");

                    b.Property<bool>("IsNotarized")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if document is notarized");

                    b.Property<bool>("IsOriginal")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Indicates if document is original or a copy");

                    b.Property<bool>("IsVerified")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if document has been verified");

                    b.Property<DateTime?>("IssueDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when document was issued");

                    b.Property<string>("IssuingAuthority")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Issuing authority/organization (e.g., Ministry of Interior, Aleppo Municipality)");

                    b.Property<string>("IssuingPlace")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Place where document was issued");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("UTC timestamp when record was last modified");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who last modified this record");

                    b.Property<string>("LegalValidityNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Legal validity notes (why valid or invalid)");

                    b.Property<DateTime?>("NotarizationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Notarization date");

                    b.Property<string>("NotarizationNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Notarization number");

                    b.Property<string>("NotaryOffice")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Notary office name/number");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Additional notes about this document");

                    b.Property<Guid?>("OriginalDocumentId")
                        .HasColumnType("uuid")
                        .HasComment("If copy, reference to original document (if in system)");

                    b.Property<Guid?>("PersonId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Person (if document belongs to a person)");

                    b.Property<Guid?>("PersonPropertyRelationId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PersonPropertyRelation (if document proves a relation)");

                    b.Property<Guid?>("PropertyUnitId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PropertyUnit (if document relates to property)");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<DateTime?>("VerificationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when document was verified");

                    b.Property<string>("VerificationNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Verification notes or comments");

                    b.Property<int>("VerificationStatus")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasComment("Verification status (Pending, Verified, Rejected, RequiresAdditionalInfo)");

                    b.Property<Guid?>("VerifiedByUserId")
                        .HasColumnType("uuid")
                        .HasComment("User who verified the document");

                    b.HasKey("Id");

                    b.HasIndex("ClaimId")
                        .HasDatabaseName("IX_Documents_ClaimId");

                    b.HasIndex("DocumentNumber")
                        .HasDatabaseName("IX_Documents_DocumentNumber");

                    b.HasIndex("DocumentType")
                        .HasDatabaseName("IX_Documents_DocumentType");

                    b.HasIndex("EvidenceId")
                        .HasDatabaseName("IX_Documents_EvidenceId");

                    b.HasIndex("ExpiryDate")
                        .HasDatabaseName("IX_Documents_ExpiryDate");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Documents_IsDeleted");

                    b.HasIndex("IsVerified")
                        .HasDatabaseName("IX_Documents_IsVerified");

                    b.HasIndex("OriginalDocumentId");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("IX_Documents_PersonId");

                    b.HasIndex("PersonPropertyRelationId")
                        .HasDatabaseName("IX_Documents_PersonPropertyRelationId");

                    b.HasIndex("PropertyUnitId")
                        .HasDatabaseName("IX_Documents_PropertyUnitId");

                    b.HasIndex("VerificationStatus")
                        .HasDatabaseName("IX_Documents_VerificationStatus");

                    b.HasIndex("DocumentType", "VerificationStatus")
                        .HasDatabaseName("IX_Documents_DocumentType_VerificationStatus");

                    b.ToTable("Documents", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Evidence", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid?>("ClaimId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Claim (if evidence supports a claim)");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Creation timestamp (UTC)");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who created this record");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Deletion timestamp (UTC)");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who deleted this record");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("Document or evidence description");

                    b.Property<DateTime?>("DocumentExpiryDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when the document expires (if applicable)");

                    b.Property<DateTime?>("DocumentIssuedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date when the document was issued (if applicable)");

                    b.Property<string>("DocumentReferenceNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Document reference number (if any)");

                    b.Property<string>("EvidenceType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Evidence type (controlled vocabulary)");

                    b.Property<string>("FileHash")
                        .HasMaxLength(64)
                        .HasColumnType("character varying(64)")
                        .HasComment("SHA-256 hash of the file for integrity verification");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("File path in storage system");

                    b.Property<long>("FileSizeBytes")
                        .HasColumnType("bigint")
                        .HasComment("File size in bytes");

                    b.Property<bool>("IsCurrentVersion")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Indicates if this is the current/latest version");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag");

                    b.Property<string>("IssuingAuthority")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Issuing authority or organization");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Last modification timestamp (UTC)");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who last modified this record");

                    b.Property<string>("MimeType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("MIME type (e.g., image/jpeg, application/pdf)");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Additional notes about this evidence");

                    b.Property<string>("OriginalFileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasComment("Original filename as uploaded");

                    b.Property<Guid?>("PersonId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Person (if evidence is linked to a person)");

                    b.Property<Guid?>("PersonPropertyRelationId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PersonPropertyRelation (if evidence supports a relation)");

                    b.Property<Guid?>("PreviousVersionId")
                        .HasColumnType("uuid")
                        .HasComment("Reference to previous version (if this is an updated version)");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasComment("Concurrency token");

                    b.Property<int>("VersionNumber")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasComment("Version number for document versioning");

                    b.HasKey("Id");

                    b.HasIndex("ClaimId")
                        .HasDatabaseName("IX_Evidences_ClaimId");

                    b.HasIndex("DocumentExpiryDate")
                        .HasDatabaseName("IX_Evidences_DocumentExpiryDate");

                    b.HasIndex("EvidenceType")
                        .HasDatabaseName("IX_Evidences_EvidenceType");

                    b.HasIndex("IsCurrentVersion")
                        .HasDatabaseName("IX_Evidences_IsCurrentVersion");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Evidences_IsDeleted");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("IX_Evidences_PersonId");

                    b.HasIndex("PersonPropertyRelationId")
                        .HasDatabaseName("IX_Evidences_PersonPropertyRelationId");

                    b.HasIndex("PreviousVersionId");

                    b.HasIndex("IsCurrentVersion", "IsDeleted")
                        .HasDatabaseName("IX_Evidences_IsCurrentVersion_IsDeleted");

                    b.ToTable("Evidences", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Household", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<int>("AdultCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of adults (18-64 years)");

                    b.Property<DateTime?>("ArrivalDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Date of arrival at current location");

                    b.Property<int>("ChildCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of children (2-12 years)");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Creation timestamp (UTC)");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who created this record");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Deletion timestamp (UTC)");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who deleted this record");

                    b.Property<string>("DisplacementReason")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("Reason for displacement");

                    b.Property<int>("ElderlyCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of elderly (65+ years)");

                    b.Property<int>("EmployedPersonsCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of employed persons");

                    b.Property<int>("FemaleCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of female members");

                    b.Property<string>("HeadOfHouseholdName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Name of head of household");

                    b.Property<Guid?>("HeadOfHouseholdPersonId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Person (head of household)");

                    b.Property<int>("HouseholdSize")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Total household size");

                    b.Property<int>("InfantCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of infants (under 2 years)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag");

                    b.Property<bool>("IsDisplaced")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if household is displaced");

                    b.Property<bool>("IsFemaleHeaded")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if household is female-headed");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Last modification timestamp (UTC)");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who last modified this record");

                    b.Property<int>("MaleCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of male members");

                    b.Property<int>("MinorCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of minors/adolescents (13-17 years)");

                    b.Property<decimal?>("MonthlyIncomeEstimate")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasComment("Estimated monthly income");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Household notes");

                    b.Property<string>("OriginLocation")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Origin location if displaced");

                    b.Property<int>("OrphanCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of orphans");

                    b.Property<int>("PersonsWithDisabilitiesCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of persons with disabilities");

                    b.Property<string>("PrimaryIncomeSource")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Primary income source");

                    b.Property<Guid>("PropertyUnitId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PropertyUnit");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasComment("Concurrency token");

                    b.Property<int>("SingleParentCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of single parents");

                    b.Property<string>("SpecialNeeds")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasComment("Special needs or circumstances");

                    b.Property<int>("UnemployedPersonsCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of unemployed persons");

                    b.Property<int>("WidowCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasComment("Number of widows");

                    b.HasKey("Id");

                    b.HasIndex("HeadOfHouseholdPersonId")
                        .HasDatabaseName("IX_Household_HeadOfHouseholdPersonId");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Household_IsDeleted");

                    b.HasIndex("PropertyUnitId")
                        .HasDatabaseName("IX_Household_PropertyUnitId");

                    b.HasIndex("IsDisplaced", "IsDeleted")
                        .HasDatabaseName("IX_Household_IsDisplaced_IsDeleted");

                    b.ToTable("Households", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Person", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Creation timestamp (UTC)");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who created this record");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Deletion timestamp (UTC)");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who deleted this record");

                    b.Property<string>("FamilyNameArabic")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Family/Last name in Arabic (اسم العائلة)");

                    b.Property<string>("FatherNameArabic")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Father's name in Arabic (اسم الأب)");

                    b.Property<string>("FirstNameArabic")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("First name in Arabic (الاسم الأول)");

                    b.Property<string>("FullNameEnglish")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)")
                        .HasComment("Full name in English (optional)");

                    b.Property<string>("Gender")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasComment("Gender (controlled vocabulary: M/F)");

                    b.Property<bool>("HasIdentificationDocument")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Flag indicating if ID document was uploaded");

                    b.Property<Guid?>("HouseholdId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to household (nullable)");

                    b.Property<bool>("IsContactPerson")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Indicates if this person is the main contact");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Last modification timestamp (UTC)");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who last modified this record");

                    b.Property<string>("MotherNameArabic")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Mother's name in Arabic (اسم الأم)");

                    b.Property<string>("NationalId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("National ID or identification number");

                    b.Property<string>("Nationality")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Nationality (controlled vocabulary)");

                    b.Property<string>("PrimaryPhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasComment("Primary phone number");

                    b.Property<string>("RelationshipToHead")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Relationship to head of household");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasComment("Concurrency token");

                    b.Property<string>("SecondaryPhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasComment("Secondary phone number");

                    b.Property<int?>("YearOfBirth")
                        .HasColumnType("integer")
                        .HasComment("Year of birth (integer)");

                    b.HasKey("Id");

                    b.HasIndex("HouseholdId")
                        .HasDatabaseName("IX_Person_HouseholdId");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Person_IsDeleted");

                    b.HasIndex("NationalId")
                        .HasDatabaseName("IX_Person_NationalId");

                    b.HasIndex("PrimaryPhoneNumber")
                        .HasDatabaseName("IX_Person_PrimaryPhoneNumber");

                    b.HasIndex("FirstNameArabic", "FatherNameArabic", "FamilyNameArabic")
                        .HasDatabaseName("IX_Person_FullNameArabic");

                    b.ToTable("Persons", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PersonPropertyRelation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("ContractDetails")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Contract or agreement details");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Creation timestamp (UTC)");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who created this record");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Deletion timestamp (UTC)");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who deleted this record");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("End date of the relation (for terminated relations)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Indicates if this relation is currently active");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Soft delete flag");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Last modification timestamp (UTC)");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid")
                        .HasComment("User who last modified this record");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasComment("Additional notes about this relation");

                    b.Property<decimal?>("OwnershipShare")
                        .HasPrecision(18, 4)
                        .HasColumnType("numeric(18,4)")
                        .HasComment("Ownership or occupancy share (0.0 to 1.0 for percentage)");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Person");

                    b.Property<Guid>("PropertyUnitId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to PropertyUnit");

                    b.Property<string>("RelationType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Type of relation (owner, tenant, occupant, guest, heir, other, etc.)");

                    b.Property<string>("RelationTypeOtherDesc")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Description when relation type is 'Other'");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasComment("Concurrency token");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("Start date of the relation");

                    b.HasKey("Id");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_PersonPropertyRelation_IsActive");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_PersonPropertyRelation_IsDeleted");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("IX_PersonPropertyRelation_PersonId");

                    b.HasIndex("PropertyUnitId")
                        .HasDatabaseName("IX_PersonPropertyRelation_PropertyUnitId");

                    b.HasIndex("RelationType")
                        .HasDatabaseName("IX_PersonPropertyRelation_RelationType");

                    b.HasIndex("IsActive", "IsDeleted")
                        .HasDatabaseName("IX_PersonPropertyRelation_IsActive_IsDeleted");

                    b.HasIndex("PersonId", "PropertyUnitId")
                        .HasDatabaseName("IX_PersonPropertyRelation_PersonId_PropertyUnitId");

                    b.ToTable("PersonPropertyRelations", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PropertyUnit", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<decimal?>("AreaSquareMeters")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)");

                    b.Property<Guid>("BuildingId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("DamageLevel")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Description")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<decimal?>("EstimatedAreaSqm")
                        .HasColumnType("numeric");

                    b.Property<int?>("FloorNumber")
                        .HasColumnType("integer");

                    b.Property<bool?>("HasBalcony")
                        .HasColumnType("boolean");

                    b.Property<bool>("HasElectricity")
                        .HasColumnType("boolean");

                    b.Property<bool>("HasSewage")
                        .HasColumnType("boolean");

                    b.Property<bool>("HasWater")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<int?>("NumberOfBathrooms")
                        .HasColumnType("integer");

                    b.Property<int?>("NumberOfHouseholds")
                        .HasColumnType("integer");

                    b.Property<int?>("NumberOfRooms")
                        .HasColumnType("integer");

                    b.Property<string>("OccupancyNature")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("OccupancyStatus")
                        .HasColumnType("text");

                    b.Property<string>("OccupancyType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("PositionOnFloor")
                        .HasColumnType("text");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea");

                    b.Property<string>("SpecialFeatures")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<int?>("TotalOccupants")
                        .HasColumnType("integer");

                    b.Property<string>("UnitIdentifier")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("UnitType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("UtilitiesNotes")
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("BuildingId", "UnitIdentifier")
                        .IsUnique()
                        .HasDatabaseName("IX_PropertyUnits_BuildingId_UnitIdentifier");

                    b.ToTable("PropertyUnits", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Referral", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid?>("AcknowledgedByUserId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("AcknowledgedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ActionsRequired")
                        .HasColumnType("text");

                    b.Property<Guid>("ClaimId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to Claim being referred");

                    b.Property<DateTime?>("CompletedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("DocumentsRequired")
                        .HasColumnType("text");

                    b.Property<int?>("EscalationLevel")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ExpectedResponseDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("FromRole")
                        .HasColumnType("integer")
                        .HasComment("Role referring the claim");

                    b.Property<Guid>("FromUserId")
                        .HasColumnType("uuid")
                        .HasComment("User who initiated the referral");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsEscalation")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsOverdue")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Outcome")
                        .HasColumnType("text");

                    b.Property<Guid?>("PreviousReferralId")
                        .HasColumnType("uuid");

                    b.Property<string>("Priority")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<DateTime>("ReferralDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("ReferralNotes")
                        .HasColumnType("text");

                    b.Property<string>("ReferralNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Referral number - Format: REF-YYYY-NNNN");

                    b.Property<string>("ReferralReason")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ReferralType")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ResponseNotes")
                        .HasColumnType("text");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<DateTime?>("StartedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<int?>("TargetResolutionHours")
                        .HasColumnType("integer");

                    b.Property<int>("ToRole")
                        .HasColumnType("integer")
                        .HasComment("Role receiving the claim");

                    b.Property<Guid?>("ToUserId")
                        .HasColumnType("uuid")
                        .HasComment("Specific user assigned (optional)");

                    b.HasKey("Id");

                    b.HasIndex("ClaimId")
                        .HasDatabaseName("IX_Referrals_ClaimId");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Referrals_IsDeleted");

                    b.HasIndex("PreviousReferralId");

                    b.HasIndex("ReferralNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_Referrals_ReferralNumber");

                    b.ToTable("Referrals", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Survey", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<Guid>("BuildingId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<int?>("DurationMinutes")
                        .HasColumnType("integer");

                    b.Property<Guid?>("ExportPackageId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("ExportedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("FieldCollectorId")
                        .HasColumnType("uuid");

                    b.Property<string>("GpsCoordinates")
                        .HasColumnType("text");

                    b.Property<DateTime?>("ImportedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("IntervieweeName")
                        .HasColumnType("text");

                    b.Property<string>("IntervieweeRelationship")
                        .HasColumnType("text");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Notes")
                        .HasColumnType("text");

                    b.Property<Guid?>("PropertyUnitId")
                        .HasColumnType("uuid");

                    b.Property<string>("ReferenceCode")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<int>("Status")
                        .HasColumnType("integer");

                    b.Property<DateTime>("SurveyDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("SurveyType")
                        .IsRequired()
                        .HasColumnType("text");

                    b.HasKey("Id");

                    b.HasIndex("BuildingId");

                    b.HasIndex("PropertyUnitId");

                    b.ToTable("Surveys");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.User", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<string>("AdditionalRoles")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("AssignedTabletId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Tablet device ID assigned to this field collector");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasComment("Email address (optional, unique if provided)");

                    b.Property<string>("EmployeeId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<int>("FailedLoginAttempts")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<string>("FullNameArabic")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasComment("Full name in Arabic");

                    b.Property<string>("FullNameEnglish")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<bool>("HasDesktopAccess")
                        .HasColumnType("boolean");

                    b.Property<bool>("HasMobileAccess")
                        .HasColumnType("boolean");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Whether the user account is active");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsLockedOut")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasComment("Whether the account is locked due to failed login attempts");

                    b.Property<string>("JobTitle")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime?>("LastFailedLoginDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LastLoginDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("LastPasswordChangeDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<DateTime?>("LockoutEndDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<bool>("MustChangePassword")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)");

                    b.Property<string>("Organization")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<DateTime?>("PasswordExpiryDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("PasswordSalt")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<string>("Preferences")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)");

                    b.Property<string>("PreferredLanguage")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasDefaultValue("ar");

                    b.Property<string>("RefreshToken")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<DateTime?>("RefreshTokenExpiryDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<int>("Role")
                        .HasColumnType("integer")
                        .HasComment("Primary user role (1=FieldCollector, 2=FieldSupervisor, 3=OfficeClerk, 4=DataManager, 5=Analyst, 6=Administrator)");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<string>("SecurityStamp")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid?>("SupervisorUserId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("TabletAssignedDate")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("TeamName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<bool>("TwoFactorEnabled")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasComment("Unique username for login");

                    b.HasKey("Id");

                    b.HasIndex("AssignedTabletId");

                    b.HasIndex("Email")
                        .IsUnique();

                    b.HasIndex("IsActive");

                    b.HasIndex("Role");

                    b.HasIndex("SupervisorUserId");

                    b.HasIndex("Username")
                        .IsUnique();

                    b.HasIndex("IsDeleted", "IsActive");

                    b.ToTable("Users", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.UserPermission", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid>("CreatedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("DeletedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("ExpiresAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("When permission expires (null = never expires)");

                    b.Property<string>("GrantReason")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasComment("Reason why permission was granted");

                    b.Property<DateTime>("GrantedAtUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasComment("When permission was granted (UTC)");

                    b.Property<Guid>("GrantedBy")
                        .HasColumnType("uuid")
                        .HasComment("User ID who granted this permission");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasComment("Whether this permission is currently active");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastModifiedAtUtc")
                        .HasColumnType("timestamp with time zone");

                    b.Property<Guid?>("LastModifiedBy")
                        .HasColumnType("uuid");

                    b.Property<int>("Permission")
                        .HasColumnType("integer")
                        .HasComment("Permission enum value (see Permission.cs for full list)");

                    b.Property<byte[]>("RowVersion")
                        .HasColumnType("bytea");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasComment("Foreign key to User");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresAtUtc");

                    b.HasIndex("GrantedBy");

                    b.HasIndex("Permission");

                    b.HasIndex("UserId");

                    b.HasIndex("UserId", "IsActive");

                    b.HasIndex("UserId", "Permission", "IsActive")
                        .IsUnique()
                        .HasFilter("\"IsActive\" = true");

                    b.ToTable("UserPermissions", (string)null);
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.AuditLog", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.AuditLog", "ParentAuditLog")
                        .WithMany()
                        .HasForeignKey("ParentAuditLogId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("ParentAuditLog");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Claim", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Person", "PrimaryClaimant")
                        .WithMany()
                        .HasForeignKey("PrimaryClaimantId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.PropertyUnit", "PropertyUnit")
                        .WithMany("Claims")
                        .HasForeignKey("PropertyUnitId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("PrimaryClaimant");

                    b.Navigation("PropertyUnit");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Document", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Claim", "Claim")
                        .WithMany("Documents")
                        .HasForeignKey("ClaimId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.Evidence", "Evidence")
                        .WithMany()
                        .HasForeignKey("EvidenceId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.Document", "OriginalDocument")
                        .WithMany()
                        .HasForeignKey("OriginalDocumentId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.PersonPropertyRelation", "PersonPropertyRelation")
                        .WithMany()
                        .HasForeignKey("PersonPropertyRelationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.PropertyUnit", "PropertyUnit")
                        .WithMany("Documents")
                        .HasForeignKey("PropertyUnitId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Claim");

                    b.Navigation("Evidence");

                    b.Navigation("OriginalDocument");

                    b.Navigation("Person");

                    b.Navigation("PersonPropertyRelation");

                    b.Navigation("PropertyUnit");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Evidence", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Claim", "Claim")
                        .WithMany("Evidences")
                        .HasForeignKey("ClaimId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.Person", "Person")
                        .WithMany("Evidences")
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.PersonPropertyRelation", "PersonPropertyRelation")
                        .WithMany("Evidences")
                        .HasForeignKey("PersonPropertyRelationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.Evidence", "PreviousVersion")
                        .WithMany()
                        .HasForeignKey("PreviousVersionId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Claim");

                    b.Navigation("Person");

                    b.Navigation("PersonPropertyRelation");

                    b.Navigation("PreviousVersion");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Household", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Person", "HeadOfHouseholdPerson")
                        .WithMany()
                        .HasForeignKey("HeadOfHouseholdPersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("TRRCMS.Domain.Entities.PropertyUnit", "PropertyUnit")
                        .WithMany("Households")
                        .HasForeignKey("PropertyUnitId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("HeadOfHouseholdPerson");

                    b.Navigation("PropertyUnit");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Person", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Household", "Household")
                        .WithMany("Members")
                        .HasForeignKey("HouseholdId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Household");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PersonPropertyRelation", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Person", "Person")
                        .WithMany("PropertyRelations")
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("TRRCMS.Domain.Entities.PropertyUnit", "PropertyUnit")
                        .WithMany("PersonRelations")
                        .HasForeignKey("PropertyUnitId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Person");

                    b.Navigation("PropertyUnit");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PropertyUnit", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Building", "Building")
                        .WithMany("PropertyUnits")
                        .HasForeignKey("BuildingId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Building");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Referral", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Claim", "Claim")
                        .WithMany("Referrals")
                        .HasForeignKey("ClaimId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("TRRCMS.Domain.Entities.Referral", "PreviousReferral")
                        .WithMany()
                        .HasForeignKey("PreviousReferralId");

                    b.Navigation("Claim");

                    b.Navigation("PreviousReferral");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Survey", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.Building", "Building")
                        .WithMany()
                        .HasForeignKey("BuildingId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("TRRCMS.Domain.Entities.PropertyUnit", "PropertyUnit")
                        .WithMany()
                        .HasForeignKey("PropertyUnitId");

                    b.Navigation("Building");

                    b.Navigation("PropertyUnit");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.User", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.User", "Supervisor")
                        .WithMany("Supervisees")
                        .HasForeignKey("SupervisorUserId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Supervisor");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.UserPermission", b =>
                {
                    b.HasOne("TRRCMS.Domain.Entities.User", "User")
                        .WithMany("Permissions")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Building", b =>
                {
                    b.Navigation("PropertyUnits");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Claim", b =>
                {
                    b.Navigation("Documents");

                    b.Navigation("Evidences");

                    b.Navigation("Referrals");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Household", b =>
                {
                    b.Navigation("Members");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.Person", b =>
                {
                    b.Navigation("Evidences");

                    b.Navigation("PropertyRelations");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PersonPropertyRelation", b =>
                {
                    b.Navigation("Evidences");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.PropertyUnit", b =>
                {
                    b.Navigation("Claims");

                    b.Navigation("Documents");

                    b.Navigation("Households");

                    b.Navigation("PersonRelations");
                });

            modelBuilder.Entity("TRRCMS.Domain.Entities.User", b =>
                {
                    b.Navigation("Permissions");

                    b.Navigation("Supervisees");
                });
#pragma warning restore 612, 618
        }
    }
}
